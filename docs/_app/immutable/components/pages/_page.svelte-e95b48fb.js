import{S as re,i as ce,s as ue,l as w,a as S,u as R,J as ie,m as P,h as v,c as N,p as L,v as U,q as b,H as p,b as B,K as V,L as C,n as X,M,N as Y,O as Q,w as he}from"../../chunks/index-40dd2f92.js";function ae(l){const t=e=>{l&&typeof l.select=="function"?l.select():console.error("invalid node for selectTextOnFocus",l)};return l.addEventListener("focus",t),{destroy(){l.removeEventListener("focus",t)}}}function oe(l){const t=e=>{e.key==="Escape"&&l&&typeof l.blur=="function"&&l.blur()};return l.addEventListener("keydown",t),{destroy(){l.removeEventListener("keydown",t)}}}function fe(l){const t="Are you sure you want to reset the scores?",e=n=>(n.preventDefault(),n.returnValue=t);return window.addEventListener("beforeunload",e),{destroy(){window.removeEventListener("beforeunload",e)}}}function Z(l,t,e){const n=l.slice();return n[10]=t[e],n[12]=e,n}function $(l,t,e){const n=l.slice();return n[13]=t[e],n[12]=e,n}function x(l,t,e){const n=l.slice();return n[15]=t[e],n[16]=t,n[12]=e,n}function ee(l,t,e){const n=l.slice();return n[17]=t[e],n[18]=t,n[12]=e,n}function te(l){let t,e,n,r,o;function g(){l[5].call(e,l[18],l[12])}return{c(){t=w("td"),e=w("input"),n=S(),this.h()},l(f){t=P(f,"TD",{class:!0});var h=L(t);e=P(h,"INPUT",{type:!0,class:!0}),n=N(h),h.forEach(v),this.h()},h(){b(e,"type","text"),b(e,"class","svelte-bt946d"),b(t,"class","pcol player"+l[12]+" svelte-bt946d")},m(f,h){B(f,t,h),p(t,e),Q(e,l[17].name),p(t,n),r||(o=[V(e,"input",g),C(ae.call(null,e)),C(oe.call(null,e))],r=!0)},p(f,h){l=f,h&2&&e.value!==l[17].name&&Q(e,l[17].name)},d(f){f&&v(t),r=!1,Y(o)}}}function le(l){let t,e,n,r,o;function g(){l[6].call(e,l[16],l[12])}return{c(){t=w("td"),e=w("input"),n=S(),this.h()},l(f){t=P(f,"TD",{class:!0});var h=L(t);e=P(h,"INPUT",{type:!0,class:!0}),n=N(h),h.forEach(v),this.h()},h(){b(e,"type","tel"),b(e,"class","svelte-bt946d"),b(t,"class","pcol player"+l[12]+" svelte-bt946d")},m(f,h){B(f,t,h),p(t,e),Q(e,l[15]),p(t,n),r||(o=[V(e,"input",g),C(ae.call(null,e)),C(oe.call(null,e))],r=!0)},p(f,h){l=f,h&1&&Q(e,l[15])},d(f){f&&v(t),r=!1,Y(o)}}}function se(l){let t,e,n=l[3](l[12]+2)+"",r,o,g,f,h=l[13],d=[];for(let i=0;i<h.length;i+=1)d[i]=le(x(l,h,i));return{c(){t=w("tr"),e=w("td"),r=R(n),g=S();for(let i=0;i<d.length;i+=1)d[i].c();f=S(),this.h()},l(i){t=P(i,"TR",{});var m=L(t);e=P(m,"TD",{class:!0});var c=L(e);r=U(c,n),c.forEach(v),g=N(m);for(let u=0;u<d.length;u+=1)d[u].l(m);f=N(m),m.forEach(v),this.h()},h(){b(e,"class",o="round player"+l[12]%l[1].length+" svelte-bt946d")},m(i,m){B(i,t,m),p(t,e),p(e,r),p(t,g);for(let c=0;c<d.length;c+=1)d[c].m(t,null);p(t,f)},p(i,m){if(m&2&&o!==(o="round player"+i[12]%i[1].length+" svelte-bt946d")&&b(e,"class",o),m&1){h=i[13];let c;for(c=0;c<h.length;c+=1){const u=x(i,h,c);d[c]?d[c].p(u,m):(d[c]=le(u),d[c].c(),d[c].m(t,f))}for(;c<d.length;c+=1)d[c].d(1);d.length=h.length}},d(i){i&&v(t),M(d,i)}}}function ne(l){let t,e=l[10]+"",n;return{c(){t=w("td"),n=R(e),this.h()},l(r){t=P(r,"TD",{class:!0});var o=L(t);n=U(o,e),o.forEach(v),this.h()},h(){b(t,"class","pcol player"+l[12]+" svelte-bt946d")},m(r,o){B(r,t,o),p(t,n)},p(r,o){o&4&&e!==(e=r[10]+"")&&he(n,e)},d(r){r&&v(t)}}}function de(l){let t,e,n,r,o,g,f,h,d,i,m,c,u,_,A,F,j,I=l[1],y=[];for(let a=0;a<I.length;a+=1)y[a]=te(ee(l,I,a));let q=l[0],E=[];for(let a=0;a<q.length;a+=1)E[a]=se($(l,q,a));let K=l[2],T=[];for(let a=0;a<K.length;a+=1)T[a]=ne(Z(l,K,a));return{c(){t=w("meta"),e=S(),n=w("section"),r=w("table"),o=w("thead"),g=w("td"),f=R("+"),h=S();for(let a=0;a<y.length;a+=1)y[a].c();d=S(),i=w("tbody");for(let a=0;a<E.length;a+=1)E[a].c();m=S(),c=w("tfoot"),u=w("td"),_=R("Total:"),A=S();for(let a=0;a<T.length;a+=1)T[a].c();this.h()},l(a){const D=ie('[data-svelte="svelte-10dhapn"]',document.head);t=P(D,"META",{name:!0,content:!0}),D.forEach(v),e=N(a),n=P(a,"SECTION",{class:!0});var s=L(n);r=P(s,"TABLE",{class:!0});var k=L(r);o=P(k,"THEAD",{class:!0});var H=L(o);g=P(H,"TD",{class:!0});var z=L(g);f=U(z,"+"),z.forEach(v),h=N(H);for(let O=0;O<y.length;O+=1)y[O].l(H);H.forEach(v),d=N(k),i=P(k,"TBODY",{});var G=L(i);for(let O=0;O<E.length;O+=1)E[O].l(G);G.forEach(v),m=N(k),c=P(k,"TFOOT",{class:!0});var J=L(c);u=P(J,"TD",{class:!0});var W=L(u);_=U(W,"Total:"),W.forEach(v),A=N(J);for(let O=0;O<T.length;O+=1)T[O].l(J);J.forEach(v),k.forEach(v),s.forEach(v),this.h()},h(){document.title="Score",b(t,"name","description"),b(t,"content","Score game"),b(g,"class","round svelte-bt946d"),b(o,"class","svelte-bt946d"),b(u,"class","round svelte-bt946d"),b(c,"class","svelte-bt946d"),b(r,"class","svelte-bt946d"),b(n,"class","svelte-bt946d")},m(a,D){p(document.head,t),B(a,e,D),B(a,n,D),p(n,r),p(r,o),p(o,g),p(g,f),p(o,h);for(let s=0;s<y.length;s+=1)y[s].m(o,null);p(r,d),p(r,i);for(let s=0;s<E.length;s+=1)E[s].m(i,null);p(r,m),p(r,c),p(c,u),p(u,_),p(c,A);for(let s=0;s<T.length;s+=1)T[s].m(c,null);F||(j=[V(g,"click",l[4]),C(fe.call(null,n))],F=!0)},p(a,[D]){if(D&2){I=a[1];let s;for(s=0;s<I.length;s+=1){const k=ee(a,I,s);y[s]?y[s].p(k,D):(y[s]=te(k),y[s].c(),y[s].m(o,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=I.length}if(D&11){q=a[0];let s;for(s=0;s<q.length;s+=1){const k=$(a,q,s);E[s]?E[s].p(k,D):(E[s]=se(k),E[s].c(),E[s].m(i,null))}for(;s<E.length;s+=1)E[s].d(1);E.length=q.length}if(D&4){K=a[2];let s;for(s=0;s<K.length;s+=1){const k=Z(a,K,s);T[s]?T[s].p(k,D):(T[s]=ne(k),T[s].c(),T[s].m(c,null))}for(;s<T.length;s+=1)T[s].d(1);T.length=K.length}},i:X,o:X,d(a){v(t),a&&v(e),a&&v(n),M(y,a),M(E,a),M(T,a),F=!1,Y(j)}}}function _e(l,t,e){let n,r=[{name:"P1"},{name:"P2"}],o=[];const g=u=>{let _=[];for(const A of r)_.push(0);for(const A of u)for(const F in _)_[F]+=parseInt(A[F])|0;return _},f=()=>{let u=[];for(const _ of r)u.push("");e(0,o=[...o,u])};(()=>{e(0,o=[]);for(let u=2;u<=14;u++)f()})();const d=u=>{let _="";switch(u){case 11:_+="J";break;case 12:_+="Q";break;case 13:_+="K";break;case 14:_+="A";break;default:_+=u.toString()}return _},i=()=>{console.log("adding a player?/..."),e(1,r=[...r,{name:"P"+(r.length+1).toString()}]);for(let[u,_]of o.entries())e(0,o[u]=[..._,""],o);e(0,o=[...o])};function m(u,_){u[_].name=this.value,e(1,r)}function c(u,_){u[_]=this.value,e(0,o)}return l.$$.update=()=>{l.$$.dirty&1&&e(2,n=g(o))},[o,r,n,d,i,m,c]}class ve extends re{constructor(t){super(),ce(this,t,_e,de,ue,{})}}export{ve as default};
